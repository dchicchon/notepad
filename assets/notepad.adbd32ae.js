import{m as k,r as e,j as y,g as n,e as M,i as h,F as p,a as f,B as x,b as g,c as A,R as D}from"./jsx-dev-runtime.4d570f1b.js";var K="/Users/danielchicchon/Code/rust/notepad/src/pages/Notepad/Notepad.jsx";const v=k.label,P={[v]:k},C=r=>{P[v].setTitle(r)};function V(){const[r,W]=e.exports.useState(25),[R,X]=e.exports.useState(25),[T,F]=e.exports.useState(25),[_,c]=e.exports.useState("#282c34"),[Z,O]=e.exports.useState(""),[j,m]=e.exports.useState("white"),[q,z]=e.exports.useState({path:null,name:"Untitled"}),[S,B]=e.exports.useState(""),[N,E]=e.exports.useState(0),l=e.exports.useRef(null);e.exports.useEffect(()=>{l.current&&l.current.setSelectionRange(N,N)},[l,S]),e.exports.useEffect(()=>{async function t(){C("Untitled");let a=await n(p),s=await n(f),i=await n(x),u=await n(g);return console.log("FontSize:",a),console.log("FontColor:",s),console.log("BackgroundColor:",i),console.log("FontFamily:",u),a&&F(a),s&&m(s),i&&c(i),u&&c(u),await M("state_change",async o=>{if(console.log("Retrieved a state change"),console.log(o.payload),!!o.payload){if(o.payload.text&&(console.log("updating text"),b({text:o.payload.text})),o.payload.name){let d={path:o.payload.path,name:o.payload.name};U(d)}if(o.payload.setting)switch(o.payload.setting){case p:let d=await n(p);F(d);break;case f:let $=await n(f);m($);break;case x:let I=await n(x);c(I);break;case g:let L=await n(g);O(L);break}console.log(o.payload)}})}t()},[]);const b=({text:t,event:a})=>{a&&E(a.target.selectionStart),B(t),h("db_insert",{key:"text",value:t}).catch(s=>{console.log("error"),console.log(s)})},U=async t=>{z(t),C(t.name),h("db_insert",{key:"file",value:t.path}).catch(a=>{console.log("error"),console.log(a)})};return y("textarea",{ref:l,className:"paper",style:(()=>({fontFamily:"",color:j,backgroundColor:_,fontSize:`${T}px`,padding:`${r}px ${R}px`}))(),value:S,onChange:t=>b({text:t.target.value,event:t}),autoFocus:!0},void 0,!1,{fileName:K,lineNumber:141,columnNumber:5},this)}var w="/Users/danielchicchon/Code/rust/notepad/src/notepad.jsx";const Y=document.getElementById("root"),G=A(Y);G.render(y(D.StrictMode,{children:y(V,{},void 0,!1,{fileName:w,lineNumber:10,columnNumber:5},globalThis)},void 0,!1,{fileName:w,lineNumber:9,columnNumber:3},globalThis));
