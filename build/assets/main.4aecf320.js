import{m as k,r as e,j as y,g as n,e as L,i as C,F as p,a as f,B as x,b as g,c as M,R as D}from"./jsx-dev-runtime.35fd73f2.js";var K="/Users/danielchicchon/Code/rust/notepad/src/main/App.jsx";const v=k.label,P={[v]:k},N=r=>{P[v].setTitle(r)};function V(){const[r,W]=e.exports.useState(25),[R,X]=e.exports.useState(25),[T,m]=e.exports.useState(25),[_,i]=e.exports.useState("#282c34"),[Z,O]=e.exports.useState(""),[j,F]=e.exports.useState("white"),[q,z]=e.exports.useState({path:null,name:"Untitled"}),[S,A]=e.exports.useState(""),[b,B]=e.exports.useState(0),l=e.exports.useRef(null);e.exports.useEffect(()=>{l.current&&l.current.setSelectionRange(b,b)},[l,S]),e.exports.useEffect(()=>{async function t(){N("Untitled");let a=await n(p),s=await n(f),c=await n(x),u=await n(g);return console.log("FontSize:",a),console.log("FontColor:",s),console.log("BackgroundColor:",c),console.log("FontFamily:",u),a&&m(a),s&&F(s),c&&i(c),u&&i(u),await L("state_change",async o=>{if(console.log("Retrieved a state change"),console.log(o.payload),!!o.payload){if(o.payload.text&&(console.log("updating text"),h({text:o.payload.text})),o.payload.name){let d={path:o.payload.path,name:o.payload.name};E(d)}if(o.payload.setting)switch(o.payload.setting){case p:let d=await n(p);m(d);break;case f:let U=await n(f);F(U);break;case x:let $=await n(x);i($);break;case g:let I=await n(g);O(I);break}console.log(o.payload)}})}t()},[]);const h=({text:t,event:a})=>{a&&B(a.target.selectionStart),A(t),C("db_insert",{key:"text",value:t}).catch(s=>{console.log("error"),console.log(s)})},E=async t=>{z(t),N(t.name),C("db_insert",{key:"file",value:t.path}).catch(a=>{console.log("error"),console.log(a)})};return y("textarea",{ref:l,className:"paper",style:(()=>({fontFamily:"",color:j,backgroundColor:_,fontSize:`${T}px`,padding:`${r}px ${R}px`}))(),value:S,onChange:t=>h({text:t.target.value,event:t}),autoFocus:!0},void 0,!1,{fileName:K,lineNumber:141,columnNumber:5},this)}var w="/Users/danielchicchon/Code/rust/notepad/src/main/main.jsx";const Y=document.getElementById("root"),G=M(Y);G.render(y(D.StrictMode,{children:y(V,{},void 0,!1,{fileName:w,lineNumber:11,columnNumber:5},globalThis)},void 0,!1,{fileName:w,lineNumber:10,columnNumber:3},globalThis));
